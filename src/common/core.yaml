include: [
  "../../lib/workstation-ostree-config_f37/fedora-common-ostree-pkgs.yaml",
  "../packages/essential.yaml",
  "../packages/flatpak.yaml",
  "../packages/fonts.yaml",
  "../packages/tools.yaml",
]

releasever: "37" # Fedora version
automatic-version-prefix: "${releasever}-23.0"
automatic-version-suffix: "."
mutate-os-release: "${releasever}"

repos:
 - fedora
 - fedora-updates
 - terra # f37+ only

add-files: [
  # /etc
  ["../sysroot/common/etc/issue", "/etc/issue"],
  ["../sysroot/common/etc/tlp.d/50-vm-writeback.conf", "/etc/tlp.d/50-vm-writeback.conf"],
  ["../sysroot/common/etc/upstream-release/lsb-release", "/etc/upstream-release/lsb-release"],

  # /etc/fonts
  ["../sysroot/common/etc/fonts/conf.d/63-inter.conf", "/etc/fonts/conf.d/63-inter.conf"],

  # /etc/skel
  ["../sysroot/common/etc/skel/dot.bashrc", "/etc/skel/.bashrc"],
  ["../sysroot/common/etc/skel/dot.config/touchegg/touchegg.conf", "/etc/skel/.config/touchegg/touchegg.conf"],

  # /etc/systemd
  ["../sysroot/common/etc/systemd/system/generate-oemconf.service", "/etc/systemd/system/generate-oemconf.service"],
  ["../sysroot/common/etc/systemd/system/sodalite-migrate.service", "/etc/systemd/system/sodalite-migrate.service"],

  # /etc/xdg
  #["../sysroot/common/etc/xdg/autostart/appimaged.desktop", "/etc/xdg/autostart/appimaged.desktop"], # BUG: https://github.com/sodaliterocks/sodalite/issues/42
  ["../sysroot/common/etc/xdg/autostart/rocks.sodalite.user-daemon.desktop", "/etc/xdg/autostart/rocks.sodalite.user-daemon.desktop"],

  # /usr/bin
  ["../../lfs/binaries/appimage/appimaged_718~x86_64.AppImage", "/usr/bin/appimaged"],
  ["../../lib/sodaliterocks.hacks/src/hacks.sh", "/usr/bin/rocks.sodalite.hacks"],
  ["../sysroot/common/usr/bin/detach", "/usr/bin/detach"],
  ["../sysroot/common/usr/bin/rocks.sodalite.flatpak-helper", "/usr/bin/rocks.sodalite.flatpak-helper"],
  ["../sysroot/common/usr/bin/rocks.sodalite.http-server", "/usr/bin/rocks.sodalite.http-server"],
  ["../sysroot/common/usr/bin/rocks.sodalite.user-daemon", "/usr/bin/rocks.sodalite.user-daemon"],
  ["../sysroot/common/usr/bin/soda", "/usr/bin/soda"],

  # /usr/lib
  ["../sysroot/common/usr/lib/sodalite-buildinfo", "/usr/lib/sodalite-buildinfo"],

  # /usr/libexec
  ["../../lib/sodaliterocks.hacks/src/plugins/cleanup.sh", "/usr/libexec/rocks.sodalite.hacks/plugins/cleanup.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/flatpak.sh", "/usr/libexec/rocks.sodalite.hacks/plugins/flatpak.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/migrate.sh", "/usr/libexec/rocks.sodalite.hacks/plugins/migrate.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/nvidia.sh", "/usr/libexec/rocks.sodalite.hacks/plugins/nvidia.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/oemconf.sh", "/usr/libexec/rocks.sodalite.hacks/plugins/oemconf.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/serve.sh", "/usr/libexec/rocks.sodalite.hacks/plugins/serve.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/vscode.sh", "/usr/libexec/rocks.sodalite.hacks/plugins/vscode.sh"],
  ["../../lib/sodaliterocks.hacks/src/utils.sh", "/usr/libexec/rocks.sodalite.hacks/utils.sh"],

  # /usr/lib64/firefox-sodalite
  ["../../lib/sodaliterocks.firefox/config/browser/defaults/preferences/firefox.js", "/usr/src/rocks.sodalite.firefox/config/browser/defaults/preferences/firefox.js"],
  ["../../lib/sodaliterocks.firefox/config/distribution/distribution.ini", "/usr/src/rocks.sodalite.firefox/config/distribution/distribution.ini"],
  ["../../lib/sodaliterocks.firefox/omni/chrome/browser/content/browser/default-bookmarks.html", "/usr/src/rocks.sodalite.firefox/omni/chrome/browser/content/browser/default-bookmarks.html"],
  ["../../lib/sodaliterocks.firefox/setup.sh", "/usr/src/rocks.sodalite.firefox/setup.sh"],

  # /usr/share
  ["../sysroot/common/usr/share/glib-2.0/schemas/00_sodalite.gschema.override", "/usr/share/glib-2.0/schemas/00_sodalite.gschema.override"],

  # /usr/share/backgrounds
  ["../../lfs/wallpapers/adrien-olichon-gXqgs6Smvw-unsplash.jpg", "/usr/share/backgrounds/default/adrien-olichon-gXqgs6Smvw-unsplash.jpg"],
  ["../../lfs/wallpapers/austin-neill-AGPGx6Yr9NI-unsplash.jpg", "/usr/share/backgrounds/default/austin-neill-AGPGx6Yr9NI-unsplash.jpg"],
  ["../../lfs/wallpapers/cody-fitzgerald-iUBG6hQe4N0-unsplash.jpg", "/usr/share/backgrounds/default/cody-fitzgerald-iUBG6hQe4N0-unsplash.jpg"],
  ["../../lfs/wallpapers/dustin-humes-OrO_HSqlZMY-unsplash.jpg", "/usr/share/backgrounds/default/dustin-humes-OrO_HSqlZMY-unsplash.jpg"],
  ["../../lfs/wallpapers/jack-b-vcNPMwS08UI-unsplash.jpg", "/usr/share/backgrounds/default/jack-b-vcNPMwS08UI-unsplash.jpg"],
  ["../../lfs/wallpapers/jeremy-gerritsen-_iviuukstI4-unsplash.jpg", "/usr/share/backgrounds/default/jeremy-gerritsen-_iviuukstI4-unsplash.jpg"],
  ["../../lfs/wallpapers/max-okhrimenko-R-CoXmMrWFk-unsplash.jpg", "/usr/share/backgrounds/default/max-okhrimenko-R-CoXmMrWFk-unsplash.jpg"],
  ["../../lfs/wallpapers/nathan-dumlao-y_qtd7IizFE-unsplash.jpg", "/usr/share/backgrounds/default/nathan-dumlao-y_qtd7IizFE-unsplash.jpg"],
  ["../../lfs/wallpapers/ryan-stone-U3cctUBucn0-unsplash.jpg", "/usr/share/backgrounds/default/ryan-stone-U3cctUBucn0-unsplash.jpg"],
  ["../../lfs/wallpapers/smaran-alva-hno1wDtV1X4-unsplash.jpg", "/usr/share/backgrounds/default/smaran-alva-hno1wDtV1X4-unsplash.jpg"],
  ["../../lfs/wallpapers/william-daigneault-7c8z4KEvgds-unsplash.jpg", "/usr/share/backgrounds/default/william-daigneault-7c8z4KEvgds-unsplash.jpg"],
  ["../../lfs/wallpapers/zara-walker-_pC5hT6aXfs-unsplash.jpg", "/usr/share/backgrounds/default/zara-walker-_pC5hT6aXfs-unsplash.jpg"],
  
  # /usr/share/fontconfig
  ["../sysroot/common/usr/share/fontconfig/conf.avail/63-inter.conf", "/usr/share/fontconfig/conf.avail/63-inter.conf"],

  # /usr/share/fonts
  ["../../lfs/fonts/inter/3.19/Inter-Black.otf", "/usr/share/fonts/inter/Inter-Black.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-BlackItalic.otf", "/usr/share/fonts/inter/Inter-BlackItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-Bold.otf", "/usr/share/fonts/inter/Inter-Bold.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-BoldItalic.otf", "/usr/share/fonts/inter/Inter-BoldItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-ExtraBold.otf", "/usr/share/fonts/inter/Inter-ExtraBold.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-ExtraBoldItalic.otf", "/usr/share/fonts/inter/Inter-ExtraBoldItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-ExtraLight.otf", "/usr/share/fonts/inter/Inter-ExtraLight.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-ExtraLightItalic.otf", "/usr/share/fonts/inter/Inter-ExtraLightItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-Italic.otf", "/usr/share/fonts/inter/Inter-Italic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-Light.otf", "/usr/share/fonts/inter/Inter-Light.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-LightItalic.otf", "/usr/share/fonts/inter/Inter-LightItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-Medium.otf", "/usr/share/fonts/inter/Inter-Medium.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-MediumItalic.otf", "/usr/share/fonts/inter/Inter-MediumItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-Regular.otf", "/usr/share/fonts/inter/Inter-Regular.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-SemiBold.otf", "/usr/share/fonts/inter/Inter-SemiBold.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-SemiBoldItalic.otf", "/usr/share/fonts/inter/Inter-SemiBoldItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-Thin.otf", "/usr/share/fonts/inter/Inter-Thin.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-ThinItalic.otf", "/usr/share/fonts/inter/Inter-ThinItalic.otf"],
  ["../../lfs/fonts/inter/3.19/Inter-V.ttf", "/usr/share/fonts/inter/Inter-V.ttf"],

  # /usr/share/gnome-background-properties
  ["../sysroot/common/usr/share/gnome-background-properties/adrien-olichon.xml", "/usr/share/gnome-background-properties/adrien-olichon.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/austin-neill.xml", "/usr/share/gnome-background-properties/austin-neill.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/cody-fitzgerald.xml", "/usr/share/gnome-background-properties/cody-fitzgerald.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/dustin-humes.xml", "/usr/share/gnome-background-properties/dustin-humes.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/jack-b.xml", "/usr/share/gnome-background-properties/jack-b.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/jeremy-gerritsen.xml", "/usr/share/gnome-background-properties/jeremy-gerritsen.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/max-okhrimenko.xml", "/usr/share/gnome-background-properties/max-okhrimenko.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/nathan-dumlao.xml", "/usr/share/gnome-background-properties/nathan-dumlao.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/ryan-stone.xml", "/usr/share/gnome-background-properties/ryan-stone.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/smaran-alva.xml", "/usr/share/gnome-background-properties/smaran-alva.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/william-daigneault.xml", "/usr/share/gnome-background-properties/william-daigneault.xml"],
  ["../sysroot/common/usr/share/gnome-background-properties/zara-walker.xml", "/usr/share/gnome-background-properties/zara-walker.xml"],

  # /usr/share/icons
  ["../../lfs/graphics/logo/logo.png", "/usr/share/icons/hicolor/256x256/apps/fedora-logo-icon.png"]
]

boot-location: modules
check-groups:
  type: file
  filename: group
check-passwd:
  type: file
  filename: passwd
default_target: graphical.target
documentation: true
etc-group-members:
  - wheel
ignore-removed-users:
  - root
ignore-removed-groups:
  - root
postprocess-script: post.sh
selinux: true
tmp-is-dir: true
